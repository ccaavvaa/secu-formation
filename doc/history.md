# Historique du projet Codex

- ajouter démonstration de vulnérabilité traversée de répertoires (Path Traversal) avec endpoints sécurisés et tests complets
- implémenter version sécurisée avec protection XSS complète (escaping + CSP + headers)
- ajouter fonctionnalité suppression tous messages et exemples XSS pédagogiques
- ajouter consigne d'approbation utilisateur avant commits
- externaliser le template HTML dans un fichier dédié
- ajouter commandes personnalisées Claude Code
- extraire la génération HTML vers un module templates dédié
- mettre à jour la documentation (README.md et AGENTS.md)
- ajouter démonstration de vulnérabilité Cross-Site Scripting (XSS)
- ajouter Swagger UI pour la documentation interactive de l'API
- migrer les tests vers supertest et améliorer l'architecture
- introduire le pattern Repository pour la gestion des messages
- documenter les mécanismes d'injection SQL dans les tests
- traduire l'interface en français
- ajouter guidance documentation pour Claude Code
- documenter la vue d'ensemble du projet
- paramétrer les requêtes de base de données
- utilisation de /init pour créer AGENTS.md et lier AGENTS.md au README.md
- scaffolding du point d'entrée du serveur Express, gestionnaires et tests
- relocalisation des fichiers d'entrée Express dans src/lib
- intégration de la persistance Better-SQLite3 avec les routes de messages
- modification de la logique d'insertion SQLite pour démontrer la vulnérabilité d'injection SQL
- ajout de la route de recherche `/messages/:id` utilisant la concaténation SQL vulnérable
- ajout d'un test illustrant la fuite de schéma via un payload id injecté
- suppression des routes legacy hello/health pour se concentrer sur les scénarios d'injection SQL
- suppression du scaffold HelloWorld inutilisé
- réorganisation des tests pour la lisibilité en utilisant des sous-tests groupés
- mise à jour du gestionnaire POST /messages pour retourner le payload de message brut
- mise à jour du gestionnaire GET /messages pour retourner le tableau directement
- mise à jour du gestionnaire GET /messages/:id pour retourner le message brut
- refactorisation de l'accès à la base de données pour passer par executeParameterizedQuery
